"use strict";(self.webpackChunknlp_docs=self.webpackChunknlp_docs||[]).push([[2637],{3905:(e,a,n)=>{n.d(a,{Zo:()=>u,kt:()=>g});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=t.createContext({}),o=function(e){var a=t.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},u=function(e){var a=o(e.components);return t.createElement(l.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},m=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),m=o(n),g=r,f=m["".concat(l,".").concat(g)]||m[g]||d[g]||i;return n?t.createElement(f,s(s({ref:a},u),{},{components:n})):t.createElement(f,s({ref:a},u))}));function g(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var c={};for(var l in a)hasOwnProperty.call(a,l)&&(c[l]=a[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,s[1]=c;for(var o=2;o<i;o++)s[o]=n[o];return t.createElement.apply(null,s)}return t.createElement.apply(null,n)}m.displayName="MDXCreateElement"},6293:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var t=n(7462),r=(n(7294),n(3905));const i={},s="NLU Manager",c={unversionedId:"nlu-manager",id:"version-v3/nlu-manager",title:"NLU Manager",description:"The NLU Manager is the main classifier class for Natural Language Understanding.",source:"@site/versioned_docs/version-v3/nlu-manager.md",sourceDirName:".",slug:"/nlu-manager",permalink:"/v3/nlu-manager",draft:!1,tags:[],version:"v3",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"NLP Manager",permalink:"/v3/nlp-manager"},next:{title:"Sentiment Analysis",permalink:"/v3/sentiment-analysis"}},l={},o=[{value:"Training only one language",id:"training-only-one-language",level:2},{value:"Training several languages and domains",id:"training-several-languages-and-domains",level:2}],u={toc:o};function d(e){let{components:a,...n}=e;return(0,r.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"nlu-manager"},"NLU Manager"),(0,r.kt)("p",null,"The NLU Manager is the main classifier class for Natural Language Understanding.\nIs able to manage several languages at the same time, and also to train by domains."),(0,r.kt)("h2",{id:"training-only-one-language"},"Training only one language"),(0,r.kt)("p",null,"When training only one language, the domain is 'default'."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const { NluManager } = require('./lib');\n\nasync function main() {\n  const classifier = new NluManager({ languages: ['fr'] });\n  classifier.addDocument('fr', 'Bonjour', 'greet');\n  classifier.addDocument('fr', 'bonne nuit', 'greet');\n  classifier.addDocument('fr', 'Bonsoir', 'greet');\n  classifier.addDocument('fr', \"J'ai perdu mes cl\xe9s\", 'keys');\n  classifier.addDocument('fr', 'Je ne trouve pas mes cl\xe9s', 'keys');\n  classifier.addDocument('fr', 'Je ne me souviens pas o\xf9 sont mes cl\xe9s', 'keys');\n  await classifier.train();\n  const classifications = classifier.getClassifications('o\xf9 sont mes cl\xe9s');\n  console.log(classifications);\n  // { utterance: 'o\xf9 sont mes cl\xe9s',\n  //   locale: 'fr',\n  //   languageGuessed: true,\n  //   localeIso2: 'fr',\n  //   language: 'French',\n  //   domain: 'default',\n  //   classifications:\n  //    [ { label: 'keys', value: 0.9076581467793369 },\n  //      { label: 'greet', value: 0.09234185322066314 } ],\n  //   intent: 'keys',\n  //   score: 0.9076581467793369 }}\n}\nmain();\n")),(0,r.kt)("h2",{id:"training-several-languages-and-domains"},"Training several languages and domains"),(0,r.kt)("p",null,"When there are more than one domain, then by default the domains are trained separately, and\na master neural network is trained with the utterances to map into the domains. That way, when\na utterance is received to be classified, the first step is to identify the domain, and then\nthe intent in the neural network of the domain. This has also the effect that in the answer,\nonly the intents from the domain are added instead of all the intents of the agent.\nWhen working with domains, before adding any intent to the domain, the domain must be\nassigned using assignDomain as in the example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const { NluManager } = require('./lib');\n\nasync function main() {\n  const classifier = new NluManager({ languages: ['en', 'es'] });\n  classifier.assignDomain('en', 'order.check', 'food');\n  classifier.addDocument('en', 'what do I have in my basket', 'order.check');\n  classifier.addDocument('en', 'check my cart', 'order.check');\n  classifier.addDocument('en', \"show me what I've ordered\", 'order.check');\n  classifier.addDocument('en', \"what's in my basket\", 'order.check');\n  classifier.addDocument('en', 'check my order', 'order.check');\n  classifier.addDocument('en', 'check what I have ordered', 'order.check');\n  classifier.addDocument('en', 'show my order', 'order.check');\n  classifier.addDocument('en', 'check my basket', 'order.check');\n\n  classifier.assignDomain('en', 'order.check_status', 'food');\n  classifier.addDocument('en', 'how soon will it be delivered', 'order.check_status');\n  classifier.addDocument('en', 'check the status of my delivery', 'order.check_status');\n  classifier.addDocument('en', 'when should I expect delivery', 'order.check_status');\n  classifier.addDocument('en', 'check my order status', 'order.check_status');\n  classifier.addDocument('en', 'where is my order', 'order.check_status');\n  classifier.addDocument('en', 'where is my delivery', 'order.check_status');\n  classifier.addDocument('en', 'status of my order', 'order.check_status');\n\n  classifier.assignDomain('en', 'agent.acquaintance', 'personality');\n  classifier.addDocument('en', 'say about you', 'agent.acquaintance');\n  classifier.addDocument('en', 'why are you here', 'agent.acquaintance');\n  classifier.addDocument('en', 'what is your personality', 'agent.acquaintance');\n  classifier.addDocument('en', 'describe yourself', 'agent.acquaintance');\n  classifier.addDocument('en', 'tell me about yourself', 'agent.acquaintance');\n  classifier.addDocument('en', 'tell me about you', 'agent.acquaintance');\n  classifier.addDocument('en', 'what are you', 'agent.acquaintance');\n  classifier.addDocument('en', 'who are you', 'agent.acquaintance');\n  classifier.addDocument('en', 'talk about yourself', 'agent.acquaintance');\n\n  classifier.assignDomain('en', 'agent.age', 'personality');\n  classifier.addDocument('en', 'your age', 'agent.age');\n  classifier.addDocument('en', 'how old is your platform', 'agent.age');\n  classifier.addDocument('en', 'how old are you', 'agent.age');\n  classifier.addDocument('en', \"what's your age\", 'agent.age');\n  classifier.addDocument('en', \"I'd like to know your age\", 'agent.age');\n  classifier.addDocument('en', 'tell me your age', 'agent.age');\n\n  classifier.assignDomain('es', 'order.check', 'food');\n  classifier.addDocument('es', 'qu\xe9 tengo en mi cesta', 'order.check');\n  classifier.addDocument('es', 'comprueba mi carrito', 'order.check');\n  classifier.addDocument('es', 'ens\xe9\xf1ame qu\xe9 he pedido', 'order.check');\n  classifier.addDocument('es', 'qu\xe9 hay en mi carrito?', 'order.check');\n  classifier.addDocument('es', 'comprueba mi compra', 'order.check');\n  classifier.addDocument('es', 'comprueba qu\xe9 he comprado', 'order.check');\n  classifier.addDocument('es', 'mu\xe9strame mi compra', 'order.check');\n\n  classifier.assignDomain('es', 'order.check_status', 'food');\n  classifier.addDocument('es', 'cu\xe1ndo me lo van a traer?', 'order.check_status');\n  classifier.addDocument('es', 'c\xf3mo va la entrega?', 'order.check_status');\n  classifier.addDocument('es', 'cu\xe1ndo me traer\xe1n mi pedido?', 'order.check_status');\n  classifier.addDocument('es', 'en qu\xe9 estado est\xe1 mi pedido?', 'order.check_status');\n  classifier.addDocument('es', 'd\xf3nde est\xe1 mi compra?', 'order.check_status');\n  classifier.addDocument('es', 'd\xf3nde est\xe1 mi pedido?', 'order.check_status');\n  classifier.addDocument('es', 'estado de mi compra', 'order.check_status');\n\n  classifier.assignDomain('es', 'agent.acquaintance', 'personality');\n  classifier.addDocument('es', 'cu\xe9ntame sobre ti', 'agent.acquaintance');\n  classifier.addDocument('es', 'qu\xe9 haces aqu\xed?', 'agent.acquaintance');\n  classifier.addDocument('es', 'c\xf3mo es tu personalidad?', 'agent.acquaintance');\n  classifier.addDocument('es', 'descr\xedbete', 'agent.acquaintance');\n  classifier.addDocument('es', 'qui\xe9n eres?', 'agent.acquaintance');\n  classifier.addDocument('es', 'qu\xe9 eres?', 'agent.acquaintance');\n  classifier.addDocument('es', 'h\xe1blame de ti', 'agent.acquaintance');\n\n  classifier.assignDomain('es', 'agent.age', 'personality');\n  classifier.addDocument('es', 'qu\xe9 edad tienes?', 'agent.age');\n  classifier.addDocument('es', 'cu\xe1ntos a\xf1os tienes?', 'agent.age');\n  classifier.addDocument('es', 'cu\xe1l es tu edad?', 'agent.age');\n  classifier.addDocument('es', 'quiero saber tu edad', 'agent.age');\n  classifier.addDocument('es', 'dime tu edad', 'agent.age');\n\n  await classifier.train();\n  const classifications = classifier.getClassifications('Cu\xe9ntame algo sobre ti');\n  console.log(classifications);\n  // { utterance: 'Cu\xe9ntame algo sobre ti',\n  //   locale: 'es',\n  //   languageGuessed: true,\n  //   localeIso2: 'es',\n  //   language: 'Spanish',\n  //   domain: 'personality',\n  //   classifications:\n  //    [ { label: 'agent.acquaintance', value: 1 },\n  //      { label: 'agent.age', value: 0 } ],\n  //   intent: 'agent.acquaintance',\n  //   score: 1 }\n}\nmain();\n")),(0,r.kt)("p",null,"Currently 40 languages are supported:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Arabic (ar)"),(0,r.kt)("li",{parentName:"ul"},"Armenian (hy)"),(0,r.kt)("li",{parentName:"ul"},"Basque (eu)"),(0,r.kt)("li",{parentName:"ul"},"Bengali (bn)"),(0,r.kt)("li",{parentName:"ul"},"Catala (ca)"),(0,r.kt)("li",{parentName:"ul"},"Chinese (zh)"),(0,r.kt)("li",{parentName:"ul"},"Czech (cs)"),(0,r.kt)("li",{parentName:"ul"},"Danish (da)"),(0,r.kt)("li",{parentName:"ul"},"Dutch (nl)"),(0,r.kt)("li",{parentName:"ul"},"English (en)"),(0,r.kt)("li",{parentName:"ul"},"Farsi (fa)"),(0,r.kt)("li",{parentName:"ul"},"Finnish (fi)"),(0,r.kt)("li",{parentName:"ul"},"French (fr)"),(0,r.kt)("li",{parentName:"ul"},"Galician (gl)"),(0,r.kt)("li",{parentName:"ul"},"German (de)"),(0,r.kt)("li",{parentName:"ul"},"Greek (el)"),(0,r.kt)("li",{parentName:"ul"},"Hindi (hi)"),(0,r.kt)("li",{parentName:"ul"},"Hungarian (hu)"),(0,r.kt)("li",{parentName:"ul"},"Indonesian (id)"),(0,r.kt)("li",{parentName:"ul"},"Irish (ga)"),(0,r.kt)("li",{parentName:"ul"},"Italian (it)"),(0,r.kt)("li",{parentName:"ul"},"Japanese (ja)"),(0,r.kt)("li",{parentName:"ul"},"Korean (ko)"),(0,r.kt)("li",{parentName:"ul"},"Lithuanian (lt)"),(0,r.kt)("li",{parentName:"ul"},"Malay (ms)"),(0,r.kt)("li",{parentName:"ul"},"Nepali (ne)"),(0,r.kt)("li",{parentName:"ul"},"Norwegian (no)"),(0,r.kt)("li",{parentName:"ul"},"Polish (pl)"),(0,r.kt)("li",{parentName:"ul"},"Portuguese (pt)"),(0,r.kt)("li",{parentName:"ul"},"Romanian (ro)"),(0,r.kt)("li",{parentName:"ul"},"Russian (ru)"),(0,r.kt)("li",{parentName:"ul"},"Serbian (sr)"),(0,r.kt)("li",{parentName:"ul"},"Slovene (sl)"),(0,r.kt)("li",{parentName:"ul"},"Spanish (es)"),(0,r.kt)("li",{parentName:"ul"},"Swedish (sv)"),(0,r.kt)("li",{parentName:"ul"},"Tagalog (tl)"),(0,r.kt)("li",{parentName:"ul"},"Tamil (ta)"),(0,r.kt)("li",{parentName:"ul"},"Thai (th)"),(0,r.kt)("li",{parentName:"ul"},"Turkish (tr)"),(0,r.kt)("li",{parentName:"ul"},"Ukrainian (uk)")))}d.isMDXComponent=!0}}]);
"use strict";(self.webpackChunknlp_docs=self.webpackChunknlp_docs||[]).push([[8710],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=c(n),h=r,g=m["".concat(s,".").concat(h)]||m[h]||p[h]||o;return n?a.createElement(g,i(i({ref:t},u),{},{components:n})):a.createElement(g,i({ref:t},u))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5400:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={},i="Normalizer",l={unversionedId:"special_packages/core/utilities/normalizer",id:"special_packages/core/utilities/normalizer",title:"Normalizer",description:"A normalizer is a plugin that normalize the text of a language. Normalization is the process to transform a text into some standard.",source:"@site/docs/90-special_packages/01-core/02-utilities/normalizer.md",sourceDirName:"90-special_packages/01-core/02-utilities",slug:"/special_packages/core/utilities/normalizer",permalink:"/special_packages/core/utilities/normalizer",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"logger",permalink:"/special_packages/core/utilities/logger"},next:{title:"ObjToArr",permalink:"/special_packages/core/utilities/obj-to-arr"}},s={},c=[{value:"Why normalization is important?",id:"why-normalization-is-important",level:2},{value:"Default normalization",id:"default-normalization",level:2},{value:"Example of use without container",id:"example-of-use-without-container",level:2},{value:"Example of use with container",id:"example-of-use-with-container",level:2},{value:"How to register your own normalization for a language",id:"how-to-register-your-own-normalization-for-a-language",level:2}],u={toc:c};function p(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"normalizer"},"Normalizer"),(0,r.kt)("p",null,"A normalizer is a plugin that normalize the text of a language. Normalization is the process to transform a text into some standard.\nBy default normalization does this:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},'replace special characters with normalized one, example: "\xe1", "\xe4" or "\xe0" will be replaced by "a".'),(0,r.kt)("li",{parentName:"ul"},"convert to lower case.")),(0,r.kt)("h2",{id:"why-normalization-is-important"},"Why normalization is important?"),(0,r.kt)("p",null,'Imagine two texts "The red house" and "The Red House".\nBoth texts are not equal, but the meaning is the same, so one process to transform both into lower case is helpful.'),(0,r.kt)("p",null,"##\xa0About special characters "),(0,r.kt)("p",null,'Usually a chatbot is deployed in a channel where people can type words. People are not perfect at writing, typing or spelling.  A good example in Spanish is that some peopke do not use letters with accents, so if we train the NLP with a sentence like "qu\xe9 sabes hacer?" and a person writes "que sabes hacer?" both "qu\xe9" and "que" will not be equal.'),(0,r.kt)("h2",{id:"default-normalization"},"Default normalization"),(0,r.kt)("p",null,"Default normalization of a text is done this way:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"  normalize(text) {\n    return text\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '')\n      .toLowerCase();\n  }\n")),(0,r.kt)("h2",{id:"example-of-use-without-container"},"Example of use without container"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const { Normalizer } = require('@nlpjs/core');\n\nconst normalizer = new Normalizer();\nconst actual = normalizer.normalize('\xd1am aqu\xed, L\xe9rn');\nconsole.log(actual); // nam aqui, lern\n")),(0,r.kt)("h2",{id:"example-of-use-with-container"},"Example of use with container"),(0,r.kt)("p",null,"Within a container the normalizer can be used in a multilanguage way: you can register normalizers for each language, so if a normalizer exists for the language provided it will use this, otherwise it will use the normalizer for English and if the English normalizer does not exists then it will fallback to the default normalization.\nYou can visit the section on Languages to find out how to register language plugins."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const { containerBootstrap } = require('@nlpjs/core');\nconst { LangEs } = require('@nlpjs/lang-es')\n\nconst container = containerBootstrap();\ncontainer.use(LangEs);\nconst normalizer = container.get('normalize');\nconst output = normalizer.run({ text: '\xd1am aqu\xed, L\xe9rn', locale: 'es' });\nconsole.log(output); // { text: 'nam aqui, lern', locale: 'es' }\n")),(0,r.kt)("h2",{id:"how-to-register-your-own-normalization-for-a-language"},"How to register your own normalization for a language"),(0,r.kt)("p",null,'Suppose that you want a normalizer that replaces all the occurences of the character "b" with a "v" when the language is Spanish. In this case you can build a normalizer class for this and register it into your container.\nTo build this new Normalizer you will need to extend the Normalizer class, create a constructor that calls super with the container, and add a property "name" with the value "normalizer-{your locale}".'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const { containerBootstrap, Normalizer } = require('@nlpjs/core');\n\nclass OddNormalizer extends Normalizer {\n  constructor(container) {\n    super(container);\n    this.name = 'normalizer-es';\n  }\n\n  normalize(text) {\n    console.log('dafuk')\n    return text\n      .normalize('NFD')\n      .replace(/[\\u0300-\\u036f]/g, '')\n      .toLowerCase()\n      .replace(/b/g, 'v');\n  }\n}\n\nconst container = containerBootstrap();\ncontainer.use(OddNormalizer);\nconst normalizer = container.get('normalize');\nconst output = normalizer.run({ text: 'Barba bilbaina', locale: 'es' });\nconsole.log(output); // { text: 'varva vilvaina', locale: 'es' }\n")))}p.isMDXComponent=!0}}]);